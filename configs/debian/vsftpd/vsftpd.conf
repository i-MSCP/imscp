# vsftpd configuration file - auto-generated by i-MSCP
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

#
# General configuration
#

# Put vsftp in standalone mode
listen=YES

# Please don't change this. Init scripts handle this.
background=NO

# Listen on the standard FTP port
listen_port=21

ftpd_banner={FTPD_BANNER}

# Directory messages
dirmessage_enable=NO

# Allow command such as `ps -ef | grep vsftpd`
setproctitle_enable=NO

# Support for UTF-8 fs
utf8_filesystem=YES

# Passive mode
pasv_enable={PASSV_ENABLE}
pasv_min_port={PASSV_MIN_PORT}
pasv_max_port={PASSV_MAX_PORT}

# Mitigate DoS attacks
max_clients={FTP_MAX_CLIENTS}
max_per_ip={MAX_PER_IP}

# Timeout parameters
idle_session_timeout=120
data_connection_timeout=600

# Enable STOR, DELE, RNFR, RNTO, MKD, RMD, APPE and SITE commands
write_enable=YES

# Authentication service name
pam_service_name=vsftpd

# Per user configuration directory
user_config_dir={FTPD_USER_CONF_DIR}

# Default homedir for authenticated users
# Overridden in per_user configuration files
user_sub_token=$USER
local_root={USER_WEB_DIR}/$USER

# Traffic logging
dual_log_enable=YES
xferlog_enable=YES

#
## Anonymous FTP users configuration
#

# Disables anonymous users for security
anonymous_enable=NO
anon_upload_enable=NO
anon_mkdir_write_enable=NO
anon_other_write_enable=NO

#
## (virtual FTP users) configuration
#

# Enable local users (needed for virtual users)
local_enable=YES

# Activate virtual users
guest_enable=YES

# Umask
local_umask=027

# Make sure that virtual users are restricted to their homedir
chroot_local_user=YES

# Allow chroot to be writeable (needed for i-MSCP)
allow_writeable_chroot=YES

# Use privileges of local users
virtual_use_local_privs=YES

# Default guest username
# This user is used by the i-MSCP frontEnd only
guest_username={FRONTEND_USER_SYS_NAME}

# Maximum data transfer rate permitted, in bytes per second
local_max_rate={LOCAL_MAX_RATE}
